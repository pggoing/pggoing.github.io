<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>函数 | pgg的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="什么是函数？ ■函数是一块代码，接受零个或多个参数，做一件事情，并返回零个或一个值 ■可以先想象成数学中的函数 y&#x3D;f(x)   &#x2F;先定义函数再拿来后来使用&#x2F;#include &lt;stdio.h&gt;void sum(){    int begin,end,x;    int sum&#x3D;0;    printf(“请输入区间范围\n格式为(begin,end)二者之间用空格隔开”);    s">
<meta property="og:type" content="article">
<meta property="og:title" content="函数">
<meta property="og:url" content="http://example.com/2022/03/15/%E5%87%BD%E6%95%B0/index.html">
<meta property="og:site_name" content="pgg的博客">
<meta property="og:description" content="什么是函数？ ■函数是一块代码，接受零个或多个参数，做一件事情，并返回零个或一个值 ■可以先想象成数学中的函数 y&#x3D;f(x)   &#x2F;先定义函数再拿来后来使用&#x2F;#include &lt;stdio.h&gt;void sum(){    int begin,end,x;    int sum&#x3D;0;    printf(“请输入区间范围\n格式为(begin,end)二者之间用空格隔开”);    s">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-03-14T17:00:16.745Z">
<meta property="article:modified_time" content="2022-03-14T17:00:32.937Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="pgg的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">pgg的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/15/%E5%87%BD%E6%95%B0/" class="article-date">
  <time datetime="2022-03-14T17:00:16.745Z" itemprop="datePublished">2022-03-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      函数
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>什么是函数？</p>
<p>■函数是一块代码，接受零个或多个参数，做一件事情，并返回零个或一个值</p>
<p>■可以先想象成数学中的函数 y=f(x)</p>
<br/>

<p>/<em>先定义函数再拿来后来使用</em>/<br>#include &lt;stdio.h&gt;<br>void sum(){<br>    int begin,end,x;<br>    int sum=0;<br>    printf(“请输入区间范围\n格式为(begin,end)二者之间用空格隔开”);<br>    scanf(“%d %d”,&amp;begin,&amp;end);<br>    for(x=begin;x&lt;=end;x++){<br>        sum += x;<br>    }<br>    printf(“%d到%d的和为%d”,begin,end,sum);<br>}<br>int main01(){<br>    sum();<br>    return 0;<br>}</p>
<br/>

<p>#include &lt;stdio.h&gt;<br>void sum(int begin,int end)<br>{<br>    int sum=0;<br>    int i;<br>    for (i=begin;i&lt;=end;i++){<br>        sum+=i;<br>    }printf(“%d到%d的和为%d\n”,begin,end,sum);<br>}<br>int main(){<br>    sum(1,10);<br>    sum(20,30);<br>    sum(35,45);<br>}</p>
<br/>

<p><strong>函数定义</strong></p>
<p>void sum(int begin,int end)     函数头   void是返回类型   sum是函数名</p>
<p>(int begin,int end)叫做参数表</p>
<p>{</p>
<p>int i;</p>
<p>int sum=0;</p>
<p>for(i=begin;i&lt;=end;i++)</p>
<p>sum+=i;</p>
<p>}</p>
<p>printf(“%d到%d的和是%d\n”，begin,end,sum)；</p>
<p>函数体</p>
<br/>

<p><strong>调用函数</strong></p>
<p>■函数名(参数值)</p>
<p>■()起到了表示函数调用的重要作用</p>
<p>■即使没有参数也需要()</p>
<p>■如果有参数，则需要给出正确的数量和顺序</p>
<p>■这些值会被按照顺序一次用来初始化函数中的参数</p>
<p>■函数知道每一次是哪里调用它，会返回到正确的地方</p>
<br/>

<p><strong>从函数中返回值</strong></p>
<p>■return停止函数的执行，并返回一个值</p>
<p>■return;</p>
<p>■return表达式</p>
<p>■一个函数里可以出现多个return语句</p>
<p>■可以赋值给变量</p>
<p>■可以再传递给函数</p>
<p>■甚至可以丢弃</p>
<br/>

<p><strong>没有返回值的函数</strong></p>
<p>■void函数名（参数表）</p>
<p>■不能使用带值得return</p>
<p>■可以没有return</p>
<p>■调用得时候不能做返回值的赋值</p>
<p>如果函数有返回值，则必须使用带值的return，返回类型就不是void</p>
<br/>

<p>函数先后关系**</p>
<p>像这样把sum()写在上面，是因为：<br>■C的编译器自上而下顺序分析你的代码<br>■在看到sum(1,10)的时候，它需要知道sum()的样子<br>■也就是sum()要几个参数，每个参数的类型如何，返回什么类型<br>■这样它才能检查你对sum()的调用是否正确</p>
<p>如果不知道？</p>
<p>警告或者报错</p>
<br/>

<p><strong>函数原型</strong><br>■函数头，以分号”;”结尾，就构成了函数的原型</p>
<p>■函数原型的目的是告诉编译器这个函数长什么样</p>
<p>■名称</p>
<p>■参数（数量及类型）</p>
<p>■返回类型</p>
<p>■旧标准习惯把函数原型写在调用它的函数里面</p>
<p>■现在一般写在调用它的函数前面</p>
<p>■原型里可以不写参数的名字，但是一般仍然写上</p>
<p>一般来说，出现在int main()之上的函数头为声明，实际的函数头会出现在下面，但凡是声明过的函数原型，出现在main（）中时会根据原型判断</p>
<br/>

<p><strong>参数传递</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">调用函数</span><br></pre></td></tr></table></figure>

<p>■如果函数有参数，调用函数时必须传递给它数量、类型正确的值</p>
<p>■可以传递给函数的值是表达式的结果，这包括：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">字面量</span><br><span class="line"></span><br><span class="line">变量</span><br><span class="line"></span><br><span class="line">函数的返回值</span><br><span class="line"></span><br><span class="line">计算的结果</span><br></pre></td></tr></table></figure>

<p>类型不匹配？</p>
<p>■调用函数时给的值与参数的类型不匹配是C语言传统上最大的漏洞</p>
<p>■编译器总是悄悄地替你把类型转换好，但是这很可能不是你所期望的</p>
<p>■后续的语言，如C++/java在这方面很严格</p>
<br/>

<p>传过去的是什么？</p>
<p>C语言在调用函数时，永远只能传值给函数</p>
<br/>

<p><strong>传值</strong></p>
<p>■每个函数有自己的变量空间，参数也位于这个独立的空间中，和其他函数没有关系</p>
<p>■过去，对于函数参数表中的参数，叫做“形式参数”，调用函数时给得知，叫做“实际参数”</p>
<p>■由于容易让初学者误会实际参数就是实际在函数中进行计算的参数，误会调用给你函数的时候把变量而不是值传进去了，所以我们不建议继续用这种古老的方式来称呼他们</p>
<p>■我们认为，它们是参数和值的关系</p>
<br/>

<p><strong>本地变量</strong></p>
<p>■函数的每次运行，就产生一个独立的变量空间，在这个空间中的变量，是函数的这次运行所独有的，称作本地变量</p>
<p>■定义在函数内部的变量就是本地变量</p>
<p>■参数也是本地变量</p>
<br/>

<p><strong>变量的生存期和作用域</strong><br>■生存期：什么时候这个变量开始出现了，到什么时候它消亡了<br>■作用域：在（代码的)什么范围内可以访问这个变量(这个变量可以起作用)<br>■对于本地变量，这两个问题的答案是统一的：大括号内——块</p>
<br/>

<p>本地变量的规则</p>
<p>■本地变量定义在块内的</p>
<p>■它可以是定义在函数的块内</p>
<p>■也可以定义在语句的块内</p>
<p>■甚至可以随便拉一堆大括号来定义变量</p>
<p>■程序运行进入这个块之前，其中的变量不存在，离开这个块，其中的变量就消失了</p>
<p>■块外面定义的变量在里面仍然有效</p>
<p>■块里面定义了和外面同名的变量则掩盖了外面的</p>
<p>■不能再一个块内定义同名的变量</p>
<p>■本地变量不会被默认初始化</p>
<p>■参数在进入函数的时候被初始化了</p>
<p>（块就是“大括号”）</p>
<br/>

<p><strong>函数庶事</strong></p>
<p>没有参数时？</p>
<p>到底是写成void f(void);还是void ();</p>
<p>在传统C中，它表示f函数的参数表未知，并不表示没有参数</p>
<br/>

<p>逗号运算符？</p>
<p>■调用函数时的逗号和逗号运算符怎么区分？</p>
<p>■调用函数时的圆括号里的逗号是标点符号，而不是运算符</p>
<p>■f(a,b)   f((a,b))</p>
<br/>

<p>函数里的函数？</p>
<p>■C语言不允许函数的嵌套定义</p>
<p>我们可以在一个函数里面放另外一个函数的声明，但是不能放另一个函数的body、定义</p>
<br/>

<p><strong>关于main</strong></p>
<p>■int main()也是一个函数</p>
<p>■要不要写成int main(void)?</p>
<p>■return 的0有人看吗?</p>
<p>■Windows: if error level 1…</p>
<p>■Unix bash：echo ＄?</p>
<p>■Csh: echo ＄status</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/15/%E5%87%BD%E6%95%B0/" data-id="cl15d9h3u0002osc25d4yh22c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/03/25/%E6%95%B0%E7%BB%84/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          数组
        
      </div>
    </a>
  
  
    <a href="/2022/03/11/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">数据类型</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/25/%E6%95%B0%E7%BB%84/">数组</a>
          </li>
        
          <li>
            <a href="/2022/03/15/%E5%87%BD%E6%95%B0/">函数</a>
          </li>
        
          <li>
            <a href="/2022/03/11/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">数据类型</a>
          </li>
        
          <li>
            <a href="/2022/03/11/%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6/">循环控制</a>
          </li>
        
          <li>
            <a href="/2022/02/26/%E5%BE%AA%E7%8E%AF/">循环</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>