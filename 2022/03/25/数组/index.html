<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>数组 | pgg的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="定义数组** ■&lt;类型&gt;变量名称[元素数量] 123int grades[100]double weight[20]  ■元素数量必须是整数 ■在C99之前：元素的数量必须是编译时刻确定的字面量 ■是一种容器（放东西的东西），特点是： 123其中所有的元素具有相同的数据类型一旦创建，不能改变大小  ■*（数组中的元素在内存中是连续一次排列的）   int a[10] ■一个int的数组">
<meta property="og:type" content="article">
<meta property="og:title" content="数组">
<meta property="og:url" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/index.html">
<meta property="og:site_name" content="pgg的博客">
<meta property="og:description" content="定义数组** ■&lt;类型&gt;变量名称[元素数量] 123int grades[100]double weight[20]  ■元素数量必须是整数 ■在C99之前：元素的数量必须是编译时刻确定的字面量 ■是一种容器（放东西的东西），特点是： 123其中所有的元素具有相同的数据类型一旦创建，不能改变大小  ■*（数组中的元素在内存中是连续一次排列的）   int a[10] ■一个int的数组">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/996291bf978cc2faca6e2507521b06c9.png">
<meta property="og:image" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/322c5b40b80e5934ede4e6d5b4db011c.png">
<meta property="og:image" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/c3554faff394dec0c160bbe65edd1ccb.png">
<meta property="og:image" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/0b65fd60e60918951cbfd83636fdc6e4.png">
<meta property="article:published_time" content="2022-03-24T19:06:28.923Z">
<meta property="article:modified_time" content="2022-03-24T19:06:52.162Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/996291bf978cc2faca6e2507521b06c9.png">
  
    <link rel="alternate" href="/atom.xml" title="pgg的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">pgg的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-数组" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/25/%E6%95%B0%E7%BB%84/" class="article-date">
  <time datetime="2022-03-24T19:06:28.923Z" itemprop="datePublished">2022-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      数组
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>定义数组**</p>
<p>■&lt;类型&gt;变量名称[元素数量]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int grades[100]</span><br><span class="line"></span><br><span class="line">double weight[20]</span><br></pre></td></tr></table></figure>

<p>■元素数量必须是整数</p>
<p>■在C99之前：元素的数量必须是编译时刻确定的字面量</p>
<p>■是一种容器（放东西的东西），特点是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其中所有的元素具有相同的数据类型</span><br><span class="line"></span><br><span class="line">一旦创建，不能改变大小</span><br></pre></td></tr></table></figure>

<p>■*（数组中的元素在内存中是连续一次排列的）</p>
<br/>

<p>int a[10]</p>
<p>■一个int的数组</p>
<p>■10个单元：a[0],a[1],…,a[9]<img src="996291bf978cc2faca6e2507521b06c9.png" alt="uTools_1647333831910.png"></p>
<p>■每个单元就是一个int类型的变量</p>
<p>■可以出现在赋值的左边或右边</p>
<p>a[2]=a[1]+6  右边的</p>
<p>■*在赋值左边的叫做左值</p>
<p>(当出现在赋值号的右边时，是在读取它的值；当出现在赋值号左边时，是在写入它的值)</p>
<br/>

<p><strong>数组的单元</strong></p>
<p>■数组的每个单元就是数组类型的一个变量</p>
<p>■使用数组时放在[]中的数字叫做下标或索引，下标从0开始计数：</p>
<p>grades[0]</p>
<p> 程序员要学会数数从0开始数，最大的是数组的个数-1，最大的下标是数组的个数-1</p>
<br/>

<p><strong>有效的下标范围</strong></p>
<p>■编译器和运行环境都不会检查数组下标是否越界，无论是对数组单元做读还是写</p>
<p>■一旦程序运行，越界的数组访问可能造成问题，导致程序崩溃</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">segmentation fault</span><br></pre></td></tr></table></figure>

<p>■但是也可能运气好，没有造成严重的后果</p>
<p>■所以这是程序员的责任来保证程序只是用有效的下标值：[0,数组的大小-1]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实际上，这个程序是有巨大的风险的，因为我们定义的数组大小只有100，万一读入的数超过了100？ </span><br></pre></td></tr></table></figure>

<p>方案一：定义一个计数器，当计数器记录的数字超过了数组大小的范围终止程序中数字的输入，确保程序不会崩溃</p>
<p>方案二：在C99标准下，定义数组大小可以是动态的（变量），可以提前输入数字的数量，但是这种情况就不能对数组进行初始化</p>
<p>printf(“请输入数字的数量”);</p>
<p>scanf(“%d”,&amp;cnt);</p>
<p>int number[cnt];</p>
<br/>

<p>长度为0的数组？</p>
<p>■int a[0];</p>
<p>■可以存在，但是无用</p>
<p>因为数组中最大的有效的下标是数组的大小-1</p>
<br/>

<p><strong>统计个数</strong></p>
<p>■写一个程序，输入数量不确定的【0,9】范围内的整数，统计每一种数字出现的次数，输入-1表示结束</p>
<p>#include &lt;stdio.h&gt;<br>int main(){<br>    const int number=10;  //数组的大小<br>    int x;<br>    int count[number];  //定义数组<br>    int i;<br>    for (i=0;i&lt;number;i++){<br>        count[i]=0;<br>    }                   //初始化数组<br>    scanf(“%d”,&amp;x);<br>    while(x!=-1){<br>        if (x&gt;0 &amp;&amp; x&lt;=9){<br>        count[x]++;     //数组参与运算<br>        }<br>        scanf(“%d”,&amp;x);<br>    }<br>    for (i=0;i&lt;number;i++){<br>        printf(“%d:%d\n”,i,count[i]);<br>    }                   //遍历数组输出 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return 0;</span><br></pre></td></tr></table></figure>

<p>}</p>
<br/>

<p>数组的集成初始化**</p>
<p>int a []={1,2,3,4,5,6}</p>
<p>■在C99标准下，这样写编译器会自动的初始话数组的大小，效果等同于int a[6];</p>
<p>■如果int a[5]; 我们的初始化操作为int a[5]=1,那么输出的结果会是1 0 0 0 0</p>
<p>■在C99标准下，我们还可以给数组的指定元素进行初始化</p>
<p>int a[10]={[0]=2,[2]=3,6}</p>
<p>int a[]={[1]=2,4,[5]=6} 此时遍历for (i=0;i&lt;6;i++),编译器将最末尾指定元素作为数组大小</p>
<p>这样就能够对数组进行指定位置的初始化，没有下标的元素会紧跟着指定初始化的元素按顺序输出，而其余的元素会默认被初始化为0，也可以不给出数组的大小，让编译器算，这种操作特备适合初始数据稀疏的数组</p>
<br/>

<p><strong>数组的大小</strong></p>
<p>■sizeof给出整个数组所占据的内容的大小，单位是字节</p>
<p>sizeof(a)/sizeof(a[0])</p>
<p>■sizeof(a[0])给出数组中单个元素的大小，于是相除就得到了数组的单元个数</p>
<p>■这样的代码，一旦修改数组中初始的数据，不需要修改遍历的代码</p>
<br/>

<p><strong>数组的赋值</strong></p>
<p>■数组变量本身不能赋值</p>
<p>■要把一个数组的所有元素交给另一个数组，必须采用遍历</p>
<p>for(i=0;i&lt;length;i++){</p>
<p>b[i]=a[i]</p>
<p>}</p>
<br/>

<p><strong>遍历数组</strong></p>
<p>■通常都是使用for循环，让循环变量i从0到&lt;数组的长度，这样的循环体内最大的i正好是数组最大的有效下标</p>
<p>■常见错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">循环结束条件是&lt;=数组长度，或：</span><br><span class="line"></span><br><span class="line">离开循环后，继续用i的值来做数组元素的下标（因为离开循环时i的值正好就是输组的无效下标）</span><br></pre></td></tr></table></figure>

<p><img src="322c5b40b80e5934ede4e6d5b4db011c.png" alt="uTools_1648144506203.png"></p>
<p>数组作为函数参数时，往往必须再用另一个参数来传入数组的大小</p>
<p>数组作为函数的参数时：</p>
<p>■不能再【】中给出数组的大小</p>
<p>■不能再利用sizeof来计算数组的元素个数</p>
<br/>

<p>** 判断素数进阶**</p>
<p>way1：从2到x-1测试是否可以整除</p>
<p>■对于n要n-1遍</p>
<p>■当n很大时就是n遍（很大时1可以忽略不计）</p>
<br/>

<p>way2：去掉偶数后，从3到x-1，每次加2</p>
<p>■如果x是偶数，立刻<br>■否则要循环(n-3)/2+1遍<br>■当n很大时就是n/2遍</p>
<br/>

<p>way3：无须到x-1，到sqrt（x）就够了</p>
<p>■只需要循环sqrt(x)遍</p>
<p>解释（源自网络用户 次秋梵祎S0）：你想想吧，如果判断100是否为素数，那就是用2、3、4……去除100，只要有一个被整除了，那100就不是素数！sqrt(100)是求100的平方根的意思，100的平方根是10，用2、3、4……10去除100就可以了，用不着再用11、12、13……99去除100了。为什么呢？因为一个数是它的两个平方根之积，用其中一个平方根之内的各个数遍历了，难道还有漏网的数未去除“这个数”？比如100吧，找个大于其平方根10的好说的数20为例，说没有必要用20去除100了就是因为你已经用5除过了，100不是素数！a÷b=c的话，那a÷c不就等于b嘛，干嘛非得反过来再除一次？这样做的目的是为了提高代码时效，试想10000的平方根是100，用这方法10000是不是素数顶多做100次除法就知道了，不然就可能要做9999次，哪个时效高？多说一句，从判定“是不是素数”这一点上说，有没有sqrt(这个数)倒确实是无意义的……</p>
<br/>

<p>way4：判断是否能被已知的小于x的素数整除（构造素数表）</p>
<p><img src="c3554faff394dec0c160bbe65edd1ccb.png" alt="uTools_1648146166862.png"></p>
<br/>

<p><strong>构造素数表</strong></p>
<p>■欲构造n以内的素数表</p>
<p>1.令x为2</p>
<p>2.将2x、3x、4x直至ax&lt;n的数标记为非素数</p>
<p>3.令x为下一个没有被标记为非素数的数，重复2；直到所有的数都已经尝试完毕</p>
<br/>

<p>■欲构造n以内（不含）的素数表<br>1.开辟prime[n],初始化其所有元素为1，prime[x]为1表示x是素数<br>2.令x=2<br>3.如果是素数，则对于(i=2;x<em>i&lt;n;i++)令prime[i</em>x]=0<br>4.令×++，如果x&lt;n,重复3，否则结束</p>
<p><img src="0b65fd60e60918951cbfd83636fdc6e4.png" alt="uTools_1648147148706.png"></p>
<br/>

<p>二维数组**</p>
<p>int a[3] [5]</p>
<p>通常理解为a是一个3行5列的矩阵</p>
<br/>

<p><strong>二维数组的遍历</strong></p>
<p>for (i=0;i&lt;3;i++){</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for(j=0;j&lt;5;j++)&#123;</span><br><span class="line"></span><br><span class="line">    a[i] [j]=i*j;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>}</p>
<p>■a[i] [j]是一个int</p>
<p>■表示第i行第j列的单元</p>
<p>■a[i,j]是什么？答：这是一个逗号运算表示的是a[j]</p>
<br/>

<p><strong>二维数组的初始化</strong></p>
<p>int a[][5]={</p>
<p>{0,1,2,3,4},</p>
<p>{2,3,4,5,6}</p>
<p>};</p>
<p>■列数必须要给出，行数可以由编译器来数</p>
<p>■每行一个{}，逗号分隔</p>
<p>■最后的逗号可以存在，这是一个古老的传统，象征着传承</p>
<p>■如果省略，表示补零</p>
<p>■也可以指定元素初始化，需要写两对[][]</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/25/%E6%95%B0%E7%BB%84/" data-id="cl15d9h3x0007osc2cldacig5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/03/15/%E5%87%BD%E6%95%B0/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">函数</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/25/%E6%95%B0%E7%BB%84/">数组</a>
          </li>
        
          <li>
            <a href="/2022/03/15/%E5%87%BD%E6%95%B0/">函数</a>
          </li>
        
          <li>
            <a href="/2022/03/11/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">数据类型</a>
          </li>
        
          <li>
            <a href="/2022/03/11/%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6/">循环控制</a>
          </li>
        
          <li>
            <a href="/2022/02/26/%E5%BE%AA%E7%8E%AF/">循环</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>